<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='Plot interactive choropleth using leaflet with a simplified theme designed for
improved appearance in the absence of background tiles. The theme requires pitoolbox to be
installed locally. NOTE: if you would like to use the embedded crosstalk functionality of
render_map(),
you must install a patched version of leaflet
from github: devtools::install_github("dmurdoch/leaflet@crosstalk4"). If you do not want to
install this version, the crosstalk behavior will silently fail but your code will otherwise
run just fine.'><title>Plot leaflet choropleth — render_map • epiboards</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot leaflet choropleth — render_map"><meta property="og:description" content='Plot interactive choropleth using leaflet with a simplified theme designed for
improved appearance in the absence of background tiles. The theme requires pitoolbox to be
installed locally. NOTE: if you would like to use the embedded crosstalk functionality of
render_map(),
you must install a patched version of leaflet
from github: devtools::install_github("dmurdoch/leaflet@crosstalk4"). If you do not want to
install this version, the crosstalk behavior will silently fail but your code will otherwise
run just fine.'><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">epiboards</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Plot leaflet choropleth</h1>
      
      <div class="d-none name"><code>render_map.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Plot interactive choropleth using leaflet with a simplified theme designed for
improved appearance in the absence of background tiles. The theme requires pitoolbox to be
installed locally. <strong>NOTE</strong>: if you would like to use the embedded <code>crosstalk</code> functionality of
<code>render_map()</code>,
<a href="https://github.com/rstudio/leaflet/pull/499" class="external-link">you <em>must</em> install a patched version of leaflet</a>
from github: <code>devtools::install_github("dmurdoch/leaflet@crosstalk4")</code>. If you do not want to
install this version, the <code>crosstalk</code> behavior will silently fail but your code will otherwise
run just fine.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">render_map</span><span class="op">(</span>
  <span class="va">df</span>,
  <span class="va">x</span>,
  <span class="va">map</span>,
  date <span class="op">=</span> <span class="cn">NULL</span>,
  id_label <span class="op">=</span> <span class="fl">1</span>,
  info_labels <span class="op">=</span> <span class="va">x</span>,
  palette <span class="op">=</span> <span class="cn">NULL</span>,
  collapse_controls <span class="op">=</span> <span class="cn">FALSE</span>,
  legend <span class="op">=</span> <span class="cn">TRUE</span>,
  legend_position <span class="op">=</span> <span class="st">"bottomright"</span>,
  crosstalk <span class="op">=</span> <span class="cn">FALSE</span>,
  crosstalk_key <span class="op">=</span> <span class="cn">NULL</span>,
  crosstalk_group <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p><code>dataframe / tibble / datatable</code> Dataset of values for the choropleth.</p></dd>
<dt>x</dt>
<dd><p><code>list</code> Named list where keys are the columns of <code>df</code> to plot and the values are the
names to be used as the layer and legend titles.</p></dd>
<dt>map</dt>
<dd><p><code>sf</code> A simple features dataset containing GIS data to join with df.</p></dd>
<dt>date</dt>
<dd><p><code>date</code> Date to be plotted. If NULL, the most recent available date is used. Default
is NULL.</p></dd>
<dt>id_label</dt>
<dd><p><code>chr</code> Column name in <code>df</code> to use as the shape name in the tooltip.</p></dd>
<dt>info_labels</dt>
<dd><p><code>list</code> Named list corresponding to the <code>df</code> columns (keys) and desired label
text (values) to appear in the tooltip. By default, the list <code>x</code> will be used.</p></dd>
<dt>palette</dt>
<dd><p><code>list</code> List of palettes to be used for the respective variables in x. The list
can be named to match the keys of x, if not the palettes will be taken in order. Palettes
should be a general palette name (eg: 'Blues'). In the case of factor variables, a vector
of specific colors can be given instead. <strong>Note</strong>: for factor variables, the variable itself
must already be ordered in <code>df</code>, otherwise the factors will be ordered by appearance. If no
palette is provided, 'Blues' will be used for every layer.</p></dd>
<dt>collapse_controls</dt>
<dd><p><code>bool</code> If True and if more than one layer is present (ie, if
<code>length(x) &gt; 1</code>), then the layer control in the top right corner will be collapsed. Default is
TRUE.</p></dd>
<dt>legend</dt>
<dd><p><code>bool</code> If True, the legend will be shown in the bottom right corner. Default is
TRUE.</p></dd>
<dt>legend_position</dt>
<dd><p><code>chr</code> The desired position of the legend. Default is 'bottomright'.</p></dd>
<dt>crosstalk</dt>
<dd><p><code>bool</code> If TRUE, the map data created and used will be converted into a
<a href="https://rstudio.github.io/crosstalk/" class="external-link">crosstalk</a> <code>SharedData</code> object. <strong>Note:</strong> enabling
crosstalk is mutually exclusive to other aspects of <code>render_map</code>, in particular it cannot be
used on maps with multiple layers. Default is
FALSE.</p></dd>
<dt>crosstalk_key</dt>
<dd><p><code>chr</code> If crosstalk is TRUE, <code>crosstalk_key</code> allows you to optionally
specify which column in <code>df</code> to use as the key for the SharedData. Default is NULL, meaning
no key will be specified.</p></dd>
<dt>crosstalk_group</dt>
<dd><p><code>chr</code> If <code>crosstalk</code> is TRUE, <code>crosstalk_group</code> allows you to specify the
group id name provided to <code>SharedData</code>. Default is NULL, meaning a random group name will be
generated by crosstalk.</p></dd>
<dt>...</dt>
<dd><p>Additional arguments to be passed to <code><a href="make_leaflet_labels.html">make_leaflet_labels()</a></code></p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>leaflet widget</code></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">df_dep</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">dep</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>p_evo <span class="op">=</span> <span class="fu">evolution</span><span class="op">(</span><span class="va">p</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu">render_map</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>p <span class="op">=</span> <span class="st">'Cases'</span>,</span>
<span class="r-in">                   pop <span class="op">=</span> <span class="st">'Population'</span><span class="op">)</span>,</span>
<span class="r-in">             id_label <span class="op">=</span> <span class="st">'dep'</span>,</span>
<span class="r-in">             evolution <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'p'</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span> </span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.linkedin.com/in/catherine-eisenhauer-76664b35" class="external-link">Catherine Eisenhauer</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

